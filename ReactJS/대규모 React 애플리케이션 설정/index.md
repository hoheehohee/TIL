# Setting up a large scale React application
## 대규모 React 애플리케이션 설정
- Karify(케어러파이)는 정신 건강 분야에서 소프트웨어를 만드는 네덜란드의 작은 회사에서 경험한 사례입니다.
- Karify는 약 75000 명의 사용자와 함께 7년 동안 비교적 큰 웹 애플리케이션을 실행하고 있습니다.
- 해당 Application에서는 메시징, 미디어 라이브러리, 사용자 관리, 할당 (예 : mood(기분, 감정) 차트 또는 명상 과제)과 같은 기능이 포함되어 있습니다.

요즘에는 작은 React 애플리케이션을 설정하거나 처음부터 시작하는 것이 매우 쉽습니다. 특히 create-react-app을 사용하는 경우.  
대부분의 프로젝트에는 몇 가지 dependencies(종속성)만 필요합니다 (예 : 상태관리 및 internationalization(국제화?))과 최소한 하나의 components 폴더가 있는 src 폴더만 필요합니다. 이것이 대부분의 React 프로젝트가 시작되는 방법이라고 생각합니다.  
그러나 일반적으로 프로젝트가 dependencies의 수를 늘리면 components, reducers 및 기타 공유 유틸리티가 때때로 제어되지 않는 방식으로 증가하는 경향이 있습니다.

- 일부 dependencies가 필요한 이유 또는 함께 작동하는 방법이 더 이상 명확하지 않은 경우 어떻게합니까?
- 또는 component가 너무 많으면 필요한 component를 찾기가 어려워 집니까?
- component를 찾고 싶지만 이름이 기억 나지 않을 때 어떻게합니까?

다음은 Karify에서 front-end를 재구축하는 동안 발생한 질문의 몇 가지 예입니다.  
우리는 dependencies와 component의 수가 결국 감당할 수 없을 정도로 증가하 것이라는 것을 할고 있었습니다. 즉, 향후 개발을 따라갈 수있을 만큼 확장 가능한 계획이 필요했습니다.  
이 계획에는 파일 및 폴더 구조, 코드 품질에 대한 규칙 정의와 전체 아키텍처 정의가 포함되었습니다.  
가장 중요한 것은 이 모든 것이 새로운 개발자들이 우리의 모든 의존성과 코드 스타일에 대한 많은 통찰력을 요구하지 않고 쉽게 이해할 수 있어야 한다는 것이다.

작성하는 현재 약 1200개의 JavaScript 파일이 있으며 이 중 350 개는 단위 테스트 커버리지를 가지며 80%를 차지하는 components입니다.  
우리는 우리가 만든 architecture 과 conventions을 여전히 믿고 있기 때문에 그것들을 공유하는 것이 좋은 생각이라고 생각했습니다.  
다음 섹션에서는 프로젝트를 설정하는 방법과 우리가 배운 몇 가지 교훈을 살펴 보겠습니다.

## 파일 및 폴더를 구성하는 방법은 무엇입니까?
React frontend를 어떻게 구성하고 싶은지 알 때까지 여러 단계를 거쳤습니다.  
처음에는 jQuery 프런트 엔드와 동일한 저장소에 배치 할 생각이었습니다. 그러나 백엔드 프레임 워크에 도입된 폴더 구조로 인해 이 옵션이 바람직하지 않습니다. 다음으로, 우리는 그것을 별도의 저장소로 옮기는 것을 생각했습니다.   
처음에는 잘 작동했지만 시간이 지남에 따라 React Native 프런트 엔드와 같은 다른 프런트 엔드를 만드는 것에 대해 생각하기 시작했습니다. 이로 인해 컴포넌트 라이브러리가 필요했습니다. 우리는 이 새로운 저장소를 두 개의 별도 저장소로 분할했습니다. 하나는 컴포넌트 라이브러리 용이고 다른 하나는 새로운 React 프런트 엔드 용입니다.  
이것은 좋은 생각처럼 보였지만 매우 복잡한 검토 프로세스를 가져 왔습니다. 두 저장소의 변경 사항 간의 관계가 명확하지 않았습니다. 마지막으로 우리는 그것들을 다시 하나의 저장소로 모으기로 결정했지만 이번에는 monorepo로 선택했습니다.

우리는 컴포넌트 라이브러리와 프론트 엔드 애플리케이션 사이에 분리를 만들고 싶었 기 때문에 monorepo를 선택했습니다.  
우리의 monorepo와 다른 것들의 차이점은 우리가 그 안에 package를 게시할 필요가 없다는 것입니다. 우리에게 package는 모듈화 및 우려사항 분리를위한 수단으로 만 사용됩니다.  
각 애플리케이션에 대해 서로 다른 dependencies과 script를 지정할 수 있으므로 애플리케이션마다 서로 다른 패키지를 사용하는 것이 특히 유용합니다.

root package.json에서 다음 구성으로 yarn workspaces을 사용하여 monorepo를 설정했습니다.

```
"workspaces": [
    "app/*",
    "lib/*",
    "tool/*"
]
```

Now some of you might wonder why we didn’t simply use a packages folder like in other monorepos.